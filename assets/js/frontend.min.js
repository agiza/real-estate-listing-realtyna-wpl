/*
 RTA Framework v.0.1.0
 @Copyright Realtyna Inc. Co 2013
 @Author Steve.M
*/
var _j=wplj=jQuery.noConflict();var _rta_app_dirs={js:"js/",libs:"libs/"},_rta_baseUrl=wpl_baseUrl,_rta_urlAssets="wp-content/plugins/"+wpl_baseName+"/assets/",_rta_urlJs=_rta_baseUrl+_rta_urlAssets+_rta_app_dirs.js,_rta_urlJsLibs=_rta_baseUrl+_rta_urlAssets+_rta_app_dirs.js+(_rta_app_dirs.js==_rta_app_dirs.libs?"":_rta_app_dirs.libs),_rta_frontViews={},_rta_backViews={};function escapeRegExp(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}
String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.toCamel=function(){return this.replace(/(\-[a-z])/g,function($1){return $1.toUpperCase().replace("-","")})};String.prototype.toDash=function(){return this.replace(/([A-Z])/g,function($1){return"-"+$1.toLowerCase()})};String.prototype.toUnderscore=function(){return this.replace(/([A-Z])/g,function($1){return"_"+$1.toLowerCase()})};
String.prototype.replaceAll=function(find,replace){return this.replace(new RegExp(escapeRegExp(find),"g"),replace)};Date.prototype.today=function(){return(this.getDate()<10?"0":"")+this.getDate()+"/"+(this.getMonth()+1<10?"0":"")+(this.getMonth()+1)+"/"+this.getFullYear()};Date.prototype.timeNow=function(){return(this.getHours()<10?"0":"")+this.getHours()+":"+(this.getMinutes()<10?"0":"")+this.getMinutes()+":"+(this.getSeconds()<10?"0":"")+this.getSeconds()};
Array.prototype.unique=function(){var a=this.concat();for(var i=0;i<a.length;++i)for(var j=i+1;j<a.length;++j)if(a[i]===a[j])a.splice(j--,1);return a};function isWPL(){_j("html").attr("data-wpl-plugin","")}
(function(window,document,$,undefined){function wpl_fancybox_afterShow_callback(){}$.fn.inlineStyle=function(prop){var styles=this.attr("style"),value;styles&&styles.split(";").forEach(function(e){var style=e.split(":");if($.trim(style[0])===prop)value=style[1]});return value};$.fn.sortElements=function(){var sort=[].sort;return function(comparator,getSortable){getSortable=getSortable||function(){return this};var placements=this.map(function(){var sortElement=getSortable.call(this),parentNode=sortElement.parentNode,
nextSibling=parentNode.insertBefore(document.createTextNode(""),sortElement.nextSibling);return function(){if(parentNode===this)throw new Error("You can't sort elements if any one is a descendant of another.");parentNode.insertBefore(this,nextSibling);parentNode.removeChild(nextSibling)}});return sort.call(this,comparator).each(function(i){placements[i].call(getSortable.call(this))})}}();$.fn.cleanWhitespace=function(){textNodes=this.contents().filter(function(){return this.nodeType==3&&!/\S/.test(this.nodeValue)}).remove();
return this};$.fn.getDocHeight=function(){var D=document;return Math.max(D.body.scrollHeight,D.documentElement.scrollHeight,D.body.offsetHeight,D.documentElement.offsetHeight,D.body.clientHeight,D.documentElement.clientHeight)};$.fn.isBetween=function(prev,next){if(this.prevAll(prev).length===0)return false;if(this.nextAll(next).length===0)return false;return true};$.fn.equalHeight=function(callBack){var currentTallest=0,currentRowStart=0,rowDivs=new Array,$el,topPosition=0,elCount=$(this).length,
elIndex=0;$(this).each(function(){$el=$(this);topPostion=$el.position().top;if(currentRowStart!=topPostion){for(currentDiv=0;currentDiv<rowDivs.length;currentDiv++)rowDivs[currentDiv].height(currentTallest);rowDivs.length=0;currentRowStart=topPostion;currentTallest=$el.height();rowDivs.push($el)}else{rowDivs.push($el);currentTallest=Math.max(currentTallest,$el.height())}for(currentDiv=0;currentDiv<rowDivs.length;currentDiv++)rowDivs[currentDiv].height(currentTallest);elIndex++;if(elIndex===elCount)if(typeof callBack!==
undefined&&$.isFunction(callBack))callBack.call()})};$.fn.wplSortable=function(options,dataString,postUrl,messages,update){var _options=options||{},_dataString=dataString||"",_updateFunc=$.noop();if(!$.isFunction(update))_updateFunc=function(e,ui){var stringDiv="";wplj(this).children("tr").each(function(i){var tr=wplj(this);var tr_id=tr.attr("id").split("_");if(i!=0)stringDiv+=",";stringDiv+=tr_id[2]});wplj.ajax({type:"POST",url:postUrl,data:_dataString+stringDiv,success:function(){},error:function(){wpl_show_messages(messages.error,
".wpl_data_structure_list .wpl_show_message","wpl_red_msg")}})};_options.update=_updateFunc;_options=$.extend(_options,rta.config.sortable);$(this).sortable(_options)};if(!$.fancybox)$.fancybox={};$.fn.openLiBo=function(options,callBack,cbOptions){var __opts={},__liBo=null;if($.prettyPhoto){if(options&&$.isPlainObject(options))__opts=$.extend({},rta.config.LB,options);__liBo=$(this).prettyPhoto(__opts)}else if($.fancybox){if(options&&$.isPlainObject(options))__opts=$.extend({},rta.config.fancybox,
options);__liBo=$(this).fancybox(__opts)}if(typeof callBack!=undefined&&$.isFunction(callBack))if(typeof cbOptions!=undefined)callBack.apply(this,cbOptions);else callBack.call();return __liBo};$.LiBo={open:function(selector,options){if(!selector)return false;var __opts=options||{};__opts=$.extend({},rta.config.liBo,__opts);__optsObj={horizontal_padding:__opts.horizontal_padding,default_width:__opts.default_width,default_height:__opts.default_height,social_tools:"",markup:__opts.tmpl.wrap.replaceAll("${sample}",
rta.config.liBo.tmpl.sample),inline_markup:__opts.tmpl.inline};$.prettyPhoto.open(selector,__optsObj)}};$.fn.closeLiBo=$.fancybox.close=function(callBack,cbOptions){if($.prettyPhoto)$.prettyPhoto.close();else if($.fancybox)$.fancybox.close();if(typeof callBack!=undefined&&$.isFunction(callBack))if(typeof cbOptions!=undefined)callBack.apply(this,cbOptions);else callBack.call();if(rta.config.fancybox.reloadAfterClose)location.reload()};$.prettyPhoto.close=function(){$.prettyPhoto.prototype.close.call(this);
if(rta.config.fancybox.reloadAfterClose)location.reload()};rta={version:"0.3.5",name:"RTA",internal:{},registers:{},config:{},util:{},views:{},models:{},runTime:{},template:{}};rta.config={debug:false,backend:{pageLeftTabs:".side-tabs-wp",pageLeftTabsTrigger:"click"},JSes:{chosen:"chosen/public/chosen.jquery.min",jqueryBridget:"jquery-bridget/jquery.bridget",mCustomScrollbar:"malihu-custom-scrollbar-plugin-bower/jquery.mCustomScrollbar.concat.min",transit:"transit/jquery.transit.min",hoverintent:"hoverintent/jquery.hoverIntent",
fileUpload:"blueimp-file-upload/js/jquery.fileupload",fileUploadProc:"blueimp-file-upload/js/jquery.fileupload-process",fileUploadValid:"blueimp-file-upload/js/jquery.fileupload-validate",ajaxFileUpload:"ajaxfileupload.min"},defaultSelectors:{checkboxWrap:".access-checkbox-wp",slideContainerPrefix:"#wpl_slide_container_id",slideLabelPrefix:"#wpl_slide_label_id",fancyWrapper:".fancybox-wrap",fancyInner:".fancybox-inner",fancyContent:".fanc-content"},templates:{delayStart:false,delayTime:500,leftHolder:"${",
rightHolder:"}",tag:"div",idAttr:"data-id",fileName:"js_inline.html"},require:{baseUrl:_rta_urlJs+"libs/bower_components/"},chosen:{disable_search_threshold:10},sortable:{handle:".move-element",cursor:"move"},fancySpecificOptions:{},fancybox:{padding:0,margin:0,width:800,height:600,minWidth:200,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:false,autoHeight:false,autoWidth:false,autoResize:false,alwaysTop:false,fitToView:true,aspectRatio:false,topRatio:.5,leftRatio:.5,scrolling:"no",
wrapCSS:"",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3E3,preload:3,modal:false,loop:true,ajax:{dataType:"html",headers:{"X-fancyBox":true}},iframe:{scrolling:"auto",preload:true},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:true,index:0,
type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',
prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"none",openSpeed:500,openEasing:"swing",openOpacity:false,openMethod:"zoomIn",closeEffect:"elastic",closeSpeed:250,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:true,title:null},afterShowMore:{},manualResize:function(callBack){var __callback=
callBack||$.noop();$(rta.config.defaultSelectors.fancyWrapper).css({display:"block",opacity:0});setTimeout(function(){var __currentHeight=$(rta.config.defaultSelectors.fancyInner).inlineStyle("height"),__currentWidth=$(rta.config.defaultSelectors.fancyInner).inlineStyle("width");if(__currentHeight!=="auto"||__currentWidth===rta.config.fancybox.minWidth+"px"){var __fancyContent=$(rta.config.defaultSelectors.fancyContent).length>1?$(rta.config.defaultSelectors.fancyContent).eq($(rta.config.defaultSelectors.fancyContent).length-
1):$(rta.config.defaultSelectors.fancyContent),__contentWidth=__fancyContent.outerWidth(),__contentHeight=__fancyContent.outerHeight();var __contentPos={left:rta.config.defaultSize.browser.width/2-__contentWidth/2,top:rta.config.defaultSize.browser.height/2-__contentHeight/2};if(__contentPos.top<0)__contentPos.top="25px";if(rta.config.fancybox.alwaysTop)__contentPos.top="25px";$(rta.config.defaultSelectors.fancyWrapper+","+rta.config.defaultSelectors.fancyInner).width(__contentWidth).height("auto");
$(rta.config.defaultSelectors.fancyWrapper).css({left:__contentPos.left,top:__contentPos.top});$(rta.config.defaultSelectors.fancyWrapper).animate({"opacity":1});rta.util.log("Fancybox size set manually by RTA.");__callback.call()}},500)},onCancel:$.noop,beforeLoad:$.noop(),afterLoad:$.noop(),beforeShow:function(){$(rta.config.defaultSelectors.fancyWrapper).hide()},afterShow:function(e){rta.config.fancybox.manualResize(function(){var __callerID=$(rta.config.defaultSelectors.fancyWrapper).find(".fanc-box-wp").attr("id"),
__specConfig=rta.config.fancySpecificOptions.hasOwnProperty(__callerID)?rta.config.fancySpecificOptions[__callerID]:null;if(__specConfig!==null&&typeof __specConfig.afterShowMore!==undefined)for(var func in __specConfig.afterShowMore)if($.isFunction(__specConfig.afterShowMore[func])){__specConfig.afterShowMore[func].call();rta.util.log(func+" fucntion has been call after show fancy.")}})},beforeChange:$.noop,beforeClose:$.noop,reloadAfterClose:false,afterClose:function(){if(this.reloadAfterClose)window.location.reload()}},
liBo:{horizontal_padding:20,default_width:800,default_height:120,tmpl:{sample:'<div class="pp_inline pp_details fancybox-inner">'+'<div class="fanc-content size-width-1">'+'<div class="fanc-body">'+'<div class="fanc-row pp-sample">'+'<div class="pp-ajax-loading"></div>'+"<span>Please wait to load content ...</span>"+"</div>"+"</div>"+"</div>"+"</div>",inline:'<a title="Close" class="fancybox-item fancybox-close pp_close"></a>'+'<div class="pp_inline pp_details fancybox-inner" id="{cID}"></div>',inlineSample:'<div class="fanc-content size-width-1">'+
'<div class="fanc-body">'+'<div class="fanc-row pp-sample">'+'<div class="pp-ajax-loading"></div>'+"<span>Please wait to load content ...</span>"+"</div>"+"</div>"+"</div>",wrap:'<div class="pp_pic_holder">'+'<div class="fancybox-wrap">'+'<div class="fancybox-skin">'+'<div class="fancybox-outer">'+'<div id="pp_full_res">${sample}</div>'+"</div>"+"</div>"+"</div>"+"</div>"+'<div class="pp_overlay"></div>'}}};rta.registers=function(){var _registers=[];return{get:function(name,isLocal){var isLocal=isLocal||
false;if(rta.util.getCookie(name)&&!isLocal)return rta.util.getCookie(name);if(_registers.hasOwnProperty(name))return _registers[name];return false},set:function(name,value,permanent){var _value=value||"",_permanent=permanent||false;if(!name)return false;_registers[name]=_value;if(_permanent)rta.util.setCookie(name,_value);return _value}}}();rta.util=function(){var _pageHashes=[],_queryStrings=[];return{has_fancy_box:null,messageType:{error:"error",warning:"warning",info:"info"},showMultiFancy:function(){$(document).on("click",
".multi-fancybox",function(e){e.preventDefault();var __self=$(this),__currentFancyID=__self.attr("data-fancy-id");__currentOption=rta.config.fancybox;if(rta.config.fancySpecificOptions.hasOwnProperty(__currentFancyID))__currentOption.afterShowMore=rta.config.fancySpecificOptions[__currentFancyID];$.fancybox.open(__self,__currentOption)})},showMessage:function(message,type,title,hasClose){var __type=type||this.messageType.error,__hasClose=hasClose||true,__title=title||__type.toCamel();if(!message)return false;
var message=rta.template.bind({type:__type,title:__title,message:message},"notificationTemplate")},getBrowserSize:function(){var __size={};if(window.innerHeight){__size.height=window.innerHeight;__size.width=window.innerWidth}else if(document.all){__size.height=document.body.clientHeight;__size.width=document.body.clientWidth}return __size},log:function(msgs){var _messages=arguments;if(rta.config.debug)try{var _date=new Date;for(var _i=0;_i<_messages.length;++_i){var _str_message=rta.name+" - v."+
rta.version+" ["+_date.today()+" - "+_date.timeNow()+"] >> "+_messages[_i];console.log(_str_message)}return true}catch(e){return false}return true},getCookie:function(name){var start=document.cookie.indexOf(name+"=");var len=start+name.length+1;if(!start&&name!=document.cookie.substring(0,name.length))return null;if(start==-1)return null;var end=document.cookie.indexOf(";",len);if(end==-1)end=document.cookie.length;return unescape(document.cookie.substring(len,end))},setCookie:function(name,value,
expires,path,domain,secure){var today=new Date;today.setTime(today.getTime());if(expires)expires=expires*1E3*60*60*24;var expires_date=new Date(today.getTime()+expires);document.cookie=name+"="+escape(value)+(expires?";expires="+expires_date.toGMTString():"")+(path?";path="+path:"")+(domain?";domain="+domain:"")+(secure?";secure":"")},deleteCookie:function(name,path,domain){if(getCookie(name))document.cookie=name+"="+(path?";path="+path:"")+(domain?";domain="+domain:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT"},
createElement:function(tagType,attrs){var _attrs=attrs||{};var _tagType=tagType||"script";if(_tagType=="script")try{var _scriptEl=document.createElement("script");for(atr in _attrs)_scriptEl.setAttribute(atr.toDash(),_attrs[atr]);document.head.appendChild(_scriptEl);return true}catch(exception){return false}},loadScript:function(url,callback){var _callback=callback||$.noop();if(!url)return false;$.ajax({url:url,dataType:"script",success:_callback,error:function(e){rta.util.log(e)},async:false})},
populateHashesQueryStrings:function(){_pageHashes=window.location.href.slice(window.location.href.indexOf("?")+1).split("#");var __qstringsTemp=_pageHashes[0].split("&");for(var iv=0;iv<__qstringsTemp.length;++iv){var __varPair=__qstringsTemp[iv].split("=");_queryStrings[__varPair[0]]=__varPair[1]}rta.util.log("Hashes successfully populated.")},getHash:function(index){var _index=index||1;return _pageHashes[_index]},currency:{digit_sep:function(field_id){var sep=",";var num=$("#"+field_id).val();num=
num.toString();var dotpos=num.indexOf(".");var endString="";if(dotpos!=-1){endString=num.substring(dotpos);num=num.substring(0,dotpos)}var num2=num.replace(/,/g,"");x=num2;z="";for(i=x.length-1;i>=0;i--)z+=x.charAt(i);z=z.replace(/(\d{3})/g,"$1"+sep);if(z.slice(-sep.length)==sep)z=z.slice(0,-sep.length);x="";for(i=z.length-1;i>=0;i--)x+=z.charAt(i);x+=endString;$("#"+field_id).val(x)},getNumber:function(value){return val.replace(/,/g,"")}},checkboxes:{toggle:function(selector,checkboxSelector){var _sel=
selector||rta.config.defaultSelectors.checkboxWrap,_checkboxSel=checkboxSelector||"input:checkbox";$(_sel).find(_checkboxSel).each(function(ind,elm){if(elm.checked)elm.checked=false;else elm.checked=true})},selectAll:function(selector,checkboxSelector){var _sel=selector||rta.config.defaultSelectors.checkboxWrap,_checkboxSel=checkboxSelector||"input:checkbox";$(_sel).find(_checkboxSel).each(function(ind,elm){elm.checked=true})},deSelectAll:function(selector,checkboxSelector){var _sel=selector||rta.config.defaultSelectors.checkboxWrap,
_checkboxSel=checkboxSelector||"input:checkbox";$(_sel).find(_checkboxSel).each(function(ind,elm){elm.checked=false})}}}}();rta.internal=function(){return{slides:{open:function(slideId,labelClass,containerClass,registerID,labelPrefixID,containerPrefixID){var _slideLabelID=labelPrefixID||rta.config.defaultSelectors.slideLabelPrefix,_slideContainerID=containerPrefixID||rta.config.defaultSelectors.slideContainerPrefix,_registerID=registerID||"currentSlide",_currentSlideID=rta.registers.get(_registerID);
if(!labelClass||!containerClass)return false;else if(_currentSlideID===slideId){if($(_slideLabelID+slideId).parent().hasClass("active"))return false;_currentSlideID=rta.registers.set(_registerID,$(labelClass).find("li").eq(0).find("a").attr("id").slice(_slideLabelID.length-1))}$(containerClass).hide();if(!_currentSlideID)$(labelClass).find("li").eq(0).removeClass("active");else $(_slideLabelID+_currentSlideID).parent().removeClass("active");$(_slideContainerID+slideId).fadeIn(700);$(_slideLabelID+
slideId).parent().addClass("active");rta.registers.set(_registerID,slideId);return true}},initChosen:function(){$("select[data-has-chosen],.prow select, .panel-body > select, .fanc-row > select").chosen(rta.config.chosen)}}}();rta.runTime=function(){var _functionList={},_isRuned={},_isRunOnce={};return{getAll:function(){return _functionList},get:function(id){if(!id)return false;if(_functionList.hasOwnProperty(id))return _functionList[id]},add:function(func,id,runOnce,delay){var __id=id||_functionList.length;
var __runOnce=runOnce||true;var __delay=typeof delay===undefined?-1:delay;if(!func||!$.isFunction(func))return false;if(_functionList.hasOwnProperty(__id))return false;_functionList[__id]=func;_isRunOnce[__id]=__runOnce;_isRuned[__id]=false;if(__delay>=0)this.run(__id,__delay);return true},run:function(id,delay,params){var __delay=typeof delay===undefined?-1:delay;if(!id)return false;if(_functionList.hasOwnProperty(id)){if(_isRunOnce[id]&&_isRuned[id])return;var __runTimeOut=setTimeout(function(){_functionList[id].call(params);
_isRuned[id]=true;clearTimeout(__runTimeOut)},__delay)}return true},runAll:function(){if(_functionList.length>0)for(_ifunc in _functionList){_functionList[_ifunc].call();_isRuned[_ifunc]=true}}}}();rta.template=function(){var _templates={},_tag=rta.config.templates.tag,_leftH=rta.config.templates.leftHolder,_rightH=rta.config.templates.rightHolder,_idAttr=rta.config.templates.idAttr;return{bind:function(object,templateName){if(!object)return false;if(!$.isPlainObject(object)||$.isEmptyObject(object)||
$.isEmptyObject(_templates))return false;var _temName=templateName.toCamel()||0,_temTemplate;if(!$.isNumeric(_temName))if(!_templates.hasOwnProperty(_temName))return false;_temTemplate=_templates[_temName];for(var _field in object){var _strRep=_leftH+_field+_rightH;_temTemplate=_temTemplate.replaceAll(_strRep,object[_field])}_temTemplate=_temTemplate.replaceAll("data-src","src");rta.util.log("A template data bind.");return _temTemplate},initPage:function(){$.get(_rta_urlJs+rta.config.templates.fileName).done(function(data){$(data).filter(_tag).each(function(){var __id=
$(this).attr(_idAttr);if(__id==="undefined"||__id===false)return;__id=__id.toCamel();_templates[__id]=$(this).html();$(this).remove()});rta.util.log("All dynamic templates initilized.");return true})},init:function(){var __self=this;if(rta.config.templates.delayStart)var __timer=setTimeout(function(){__self.initPage();clearTimeout(__timer)},rta.config.templates.delayTime);else __self.initPage()}}}();rta.fwLoader=function(){rta.util.log("Framework completely loaded.");return true};rta.pageElementsStartupTriggers=
function(){$(".fancybox").openLiBo({horizontal_padding:rta.config.liBo.horizontal_padding,default_width:rta.config.liBo.default_width,default_height:rta.config.liBo.default_height,social_tools:"",markup:rta.config.liBo.tmpl.wrap.replaceAll("${sample}",rta.config.liBo.tmpl.sample),inline_markup:rta.config.liBo.tmpl.inline,inline_sample_markup:rta.config.liBo.tmpl.inlineSample,keyboard_shortcuts:false,ajaxcallback:function(){var __callerID=$(".fancybox-inner").attr("id"),__specConfig=rta.config.fancySpecificOptions.hasOwnProperty(__callerID)?
rta.config.fancySpecificOptions[__callerID]:null;if(__specConfig!==null&&typeof __specConfig.afterShowMore!==undefined)for(var func in __specConfig.afterShowMore)if($.isFunction(__specConfig.afterShowMore[func])){__specConfig.afterShowMore[func].call();rta.util.log(func+" fucntion has been call after show fancy.")}}});if(rta.util.getHash())$(rta.config.backend.pageLeftTabs).find("a[href='#"+rta.util.getHash()+"']").trigger(rta.config.backend.pageLeftTabsTrigger);else{var __selectIndex=0;if($(rta.config.backend.pageLeftTabs).find("a:eq(0)").hasClass("tab-finalize"))__selectIndex=
1;$(rta.config.backend.pageLeftTabs).find("li:eq("+__selectIndex+") a").trigger(rta.config.backend.pageLeftTabsTrigger)}rta.config.defaultSize={window:{height:$(window).height(),width:$(window).width()},document:{height:$(document).height(),width:$(document).getDocHeight()},browser:rta.util.getBrowserSize()};$(".js-clear").each(function(){$(this).removeClass("js-clear").after('<div class="clear"></div>')});rta.template.init();$(".rt-same-height .panel-wp").equalHeight(function(){$(".rt-same-height .js-full-height").each(function(){var __height=
$(this).find(".panel-wp").height();if($(this).attr("data-minuse-size"))__height-=parseInt($(this).attr("data-minuse-size"));$(this).find(".panel-body").css("max-height",__height)})});$(".side-changes .panel-body,.side-announce .panel-body").mCustomScrollbar({mouseWheel:true,mouseWheelPixels:200,scrollInertia:300,scrollButtons:{},advanced:{updateOnContentResize:true},theme:"dark-thin"});rta.internal.initChosen()};rta.init=function(){rta.util.log("RTA framework started ...");rta.fwLoader();rta.util.populateHashesQueryStrings();
rta.pageElementsStartupTriggers()};$(function(){rta.init()});$(window).ready(function(){})})(window,document,jQuery);var wplj;var wpl_show_messages_cur_class;var wpl_show_messages_html_element;var hashes=window.location.href.slice(window.location.href.indexOf("?")+1).split("#");
wplj(document).ready(function(){wplj.fn.wpl_help=function(){wplj(".wpl_help").hover(function(){wplj(this).children(".wpl_help_description").show()},function(){wplj(this).children(".wpl_help_description").hide()})};wplj(".wpl_help").wpl_help();wplj(".wpl_prp_cont .wpl_prp_top_boxes.front .wpl_gallery_container img").load(function(){var font_size=wplj(this).height()/220;wplj(".wpl_prp_cont .wpl_prp_top").width(wplj(this).width()).height(wplj(this).height());wplj(".wpl_prp_cont .wpl_prp_top .wpl_prp_top_boxes.back a.view_detail").css("line-height",
wplj(this).height()+"px");wplj(".wpl_prp_cont .wpl_prp_top .wpl_prp_top_boxes .wpl_gallery_container .no_image_box").height(wplj(this).height()).css("font-size",font_size+"em")})});function wpl_fancybox_afterShow_callback(){}
function wpl_ajax_save(table,key,element,id,url){if(!table||!key||!id||!element||!url)return false;value=element.value;if(!value)value="";request_str="wpl_format=c:functions:ajax&wpl_function=ajax_save&table="+table+"&key="+key+"&value="+value+"&id="+id;ajax=wpl_run_ajax_query(url,request_str);return ajax}
function wpl_show_messages(message,html_element,msg_class){if(!msg_class)msg_class="wpl_gold_msg";if(!html_element)html_element=".wpl_show_message";if(!message)return;wpl_show_messages_html_element=html_element;wplj(html_element).html(message);wplj(html_element).show();wplj(html_element).addClass(msg_class);if(wpl_show_messages_cur_class&&wpl_show_messages_cur_class!=msg_class)wplj(html_element).removeClass(wpl_show_messages_cur_class);wpl_show_messages_cur_class=msg_class}
function wpl_remove_message(html_element){if(!html_element)html_element=wpl_show_messages_html_element;if(!wpl_show_messages_cur_class)return;wplj(html_element).removeClass(wpl_show_messages_cur_class);wplj(html_element).html("");wplj(html_element).hide();wpl_show_messages_cur_class=""}
function wpl_run_ajax_query(url,request_str,ajax_loader,data_type,ajax_type){if(!data_type)data_type="JSON";if(!ajax_type)ajax_type="POST";ajax_result=wplj.ajax({type:ajax_type,dataType:data_type,url:url,data:request_str,success:function(data){},error:function(jqXHR,textStatus,errorThrown){if(ajax_loader)wplj(ajax_loader).html("")}});return ajax_result}
function wpl_update_qs(key,value,url){if(!url)url=window.location.href;var re=new RegExp("([?|&])"+key+"=.*?(&|#|$)(.*)","gi");if(re.test(url))if(value)return url.replace(re,"$1"+key+"="+value+"$2$3");else return url.replace(re,"$1$3").replace(/(&|\?)$/,"");else if(value){var separator=url.indexOf("?")!==-1?"&":"?";var hash=url.split("#");url=hash[0]+separator+key+"="+value;if(hash[1])url+="#"+hash[1];return url}else return url}
function wpl_thousand_sep(field_id){var sep=",";var num=wplj("#"+field_id).val();num=num.toString();var dotpos=num.indexOf(".");var endString="";if(dotpos!=-1){endString=num.substring(dotpos);num=num.substring(0,dotpos)}var num2=num.replace(/,/g,"");x=num2;z="";for(i=x.length-1;i>=0;i--)z+=x.charAt(i);z=z.replace(/(\d{3})/g,"$1"+sep);if(z.slice(-sep.length)==sep)z=z.slice(0,-sep.length);x="";for(i=z.length-1;i>=0;i--)x+=z.charAt(i);x+=endString;wplj("#"+field_id).val(x)}
function wpl_de_thousand_sep(val){return val.replace(/,/g,"")}function wpl_alert(string){alert(string)}function wpl_ucfirst(string){return string.charAt(0).toUpperCase()+string.slice(1)};